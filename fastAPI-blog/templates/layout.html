<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>{% if title %} FastAPI Blog - {{ title | title }} {% else %} FastAPI Blog {% endif %}</title>

        <!-- ============================== -->
        <!-- ========= Meta Data ========== -->
        <meta name="description" content="xxx" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="copyright" content="Content created by Eric Philippot - All rights Reserved" />
        <meta name="keywords" content="blog, fastapi, python" />
        <meta name="author" content="Eric Philippot" />
        <link rel="icon" href="{{ url_for("static", path="images/favicon.ico") }}" />
        <link rel="manifest" href="{{ url_for("static", path="site.webmanifest")}}">

        <!-- Social Media Meta Data -->
        <meta property="og:title" content="FastAPI Demo" />
        <meta property="og:description" content="Look and review the blog application created with FastAPI and PostgreSQL. Built containing user auth, RestAPI and CRUD operations" />
        <meta property="og:image" content="{{ url_for("static", path="images/page.jpg") }}" />
        <meta property="og:url" content="xxx" />

        <meta name="twitter:card" content="{{ url_for("static", path="images/page.jpg") }}" />
        <meta name="twitter:title" content="FastAPI Demo" />
        <meta name="twitter:description" content="Look and review the blog application created with FastAPI and PostgreSQL. Built containing user auth, RestAPI and CRUD operations" />
        <meta name="twitter:image" content="{{ url_for("static", path="images/page.jpg") }}" />

        <!-- ================================== -->
        <!-- ========= Links/Scripts ========== -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous" />
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous" defer></script>

        <link rel="stylesheet" href="{{ url_for("static", path="css/theme.css") }}" />
        <link rel="stylesheet" href="{{ url_for("static", path="css/utils.css") }}" />
        <link rel="stylesheet" href="{{ url_for("static", path="css/style.css") }}" />
    </head>

    <body class="d-flex flex-column min-vh-100">
        <header class="site-header mb-5">
            <nav class="navbar navbar-expand-md bg-steel fixed-top" data-bs-theme="dark">
                <div class="container">
                    <a class="navbar-brand me-4" href="{{ url_for("home") }}">FastAPI Blog</a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggle" aria-controls="navbarToggle" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarToggle">
                        <div class="navbar-nav me-auto">
                            <a class="nav-link active" aria-current="page" href="{{ url_for("home") }}">Home</a>
                        </div>
                        <!-- Navbar Right Side -->
                        <div class="navbar-nav">
                            <a class="btn btn-outline-light mb-2 mb-md-0 me-md-2" href="#">Login</a>
                            <a class="btn btn-light mb-2 mb-md-0 me-md-3" href="#">Register</a>
                            <div class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" role="button" id="bd-theme" data-bs-toggle="dropdown" aria-expanded="false">
                                    <span id="bd-theme-text">üåó Auto</span>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme">
                                    <li>
                                        <button class="dropdown-item" type="button" data-bs-theme-value="light">üåù Light</button>
                                    </li>
                                    <li>
                                        <button class="dropdown-item" type="button" data-bs-theme-value="dark">üåö Dark</button>
                                    </li>
                                    <li>
                                        <button class="dropdown-item" type="button" data-bs-theme-value="auto">üåó Auto</button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </header>

        <main role="main" class="container">
            <div class="row">
                <div class="col-md-8">{% block content %} {% endblock content %}</div>
                <aside class="col-md-4">
                    <div class="content-section py-3 px-4 mb-4">
                        <h3>Our Sidebar</h3>
                        <p class="text-body-secondary">You can put any information here you'd like.</p>
                        <ul class="list-group">
                            <li class="list-group-item">Latest Posts</li>
                            <li class="list-group-item">Announcements</li>
                            <li class="list-group-item">Calendars</li>
                            <li class="list-group-item">etc</li>
                        </ul>
                    </div>
                </aside>
            </div>
        </main>

        <footer class="mt-auto py-3 bg-body-tertiary border-top">
            <div class="container text-center">
                <p class="text-body-secondary mb-0">¬© <span id="year"></span> Eric Philippot</p>
            </div>
        </footer>

        <!-- Set the current year in the footer -->
        <script>
            document.getElementById("year").textContent = new Date().getFullYear();
        </script>

        <!-- Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

        <!-- Dark Mode Toggle -->
        <script>
            const setTheme = (theme) => {
                if (theme === "auto") {
                    document.documentElement.setAttribute("data-bs-theme", window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");
                } else {
                    document.documentElement.setAttribute("data-bs-theme", theme);
                }
                localStorage.setItem("theme", theme);

                // Update button text
                const themeText = {
                    light: "üåù Light",
                    dark: "üåö Dark",
                    auto: "üåó Auto",
                };
                document.getElementById("bd-theme-text").textContent = themeText[theme];
            };

            // Set theme on click
            document.querySelectorAll("[data-bs-theme-value]").forEach((button) => {
                button.addEventListener("click", () => setTheme(button.getAttribute("data-bs-theme-value")));
            });

            // Initialize
            setTheme(localStorage.getItem("theme") || "auto");
        </script>
    </body>
</html>
